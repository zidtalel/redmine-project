<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>User Stories et Crit√®res d'Acceptation Redmine</title>
    <link rel="icon" type="image/png" href="images/us_icon.png" />
    <!-- Font Awesome pour les ic√¥nes podcast -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
    />

    <!-- Script de protection d'acc√®s - V√©rification de l'authentification -->
    <script src="js/auth-guard.js"></script>

    <style>
      /* Styles de base */
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 20px;
        background-color: #f4f7f6;
        color: #333;
      }

      .container {
        max-width: 1000px;
        margin: 0 auto;
        background-color: #ffffff;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      /* === Layout principal avec aside podcast === */
      .layout {
        max-width: 1200px;
        margin: 0 auto 30px auto;
        display: grid;
        grid-template-columns: 1fr 340px;
        gap: 28px;
        align-items: start;
      }
      @media (max-width: 1100px) {
        .layout {
          grid-template-columns: 1fr;
        }
        .podcast-card {
          order: 2;
        }
      }
      .podcast-card {
        background: #fff8e1;
        border: 1px solid #ffe082;
        border-radius: 12px;
        padding: 20px 20px 24px 20px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        font-size: 0.9em;
        margin-top: 0px; /* aligner avec premier bloc interne */
      }
      .podcast-card h3 {
        margin: 0 0 10px 0;
        font-size: 1.05em;
        display: flex;
        align-items: center;
        gap: 8px;
        color: #333;
      }
      .podcast-card p {
        margin-top: 0;
        margin-bottom: 14px;
        line-height: 1.4;
      }
      .podcast-card label {
        display: block;
        font-weight: 600;
        color: #123d57;
        margin-bottom: 4px;
      }
      .podcast-card audio {
        width: 100%;
        margin-bottom: 14px;
      }
      .podcast-card .lang-block:last-of-type audio {
        margin-bottom: 6px;
      }

      h1 {
        color: #007bff;
        border-bottom: 3px solid #007bff;
        padding-bottom: 10px;
        margin-bottom: 30px;
        text-align: center;
      }

      /* Styles pour la User Story */
      .user-story-card {
        border: 1px solid #ddd;
        padding: 20px;
        margin-bottom: 35px;
        border-radius: 8px;
        background-color: #f9f9f9;
      }

      .story-title {
        color: #34495e;
        font-size: 1.5em;
        margin-top: 0;
        border-bottom: 2px solid #34495e;
        padding-bottom: 5px;
        margin-bottom: 15px;
      }

      .story-content {
        font-size: 1.1em;
        line-height: 1.6;
        margin-bottom: 20px;
      }

      /* Mise en √©vidence des mots cl√©s de la User Story */
      .en-tant-que {
        font-weight: bold;
        color: #2ecc71; /* Vert clair */
        background-color: #e8f8f5;
        padding: 2px 4px;
        border-radius: 4px;
      }
      .je-veux {
        font-weight: bold;
        color: #e67e22; /* Orange */
        background-color: #fdedec;
        padding: 2px 4px;
        border-radius: 4px;
      }
      .afin-de {
        font-weight: bold;
        color: #9b59b6; /* Violet */
        background-color: #f4ecf7;
        padding: 2px 4px;
        border-radius: 4px;
      }

      /* Styles pour les Crit√®res d'Acceptation */
      .acceptance-criteria {
        margin-top: 20px;
        padding: 15px;
        border-left: 5px solid #007bff;
        background-color: #e9f7ff;
        border-radius: 0 8px 8px 0;
      }

      .criteria-title {
        color: #007bff;
        font-size: 1.2em;
        margin-bottom: 15px;
        font-weight: bold;
      }

      .scenario {
        margin-bottom: 20px;
        padding: 15px;
        border: 1px dashed #a0c3ff;
        border-radius: 6px;
        background-color: #ffffff;
      }

      .scenario-title {
        font-weight: bold;
        color: #2c3e50;
        margin-bottom: 10px;
        font-size: 1.1em;
      }

      .step-list {
        list-style-type: none;
        padding-left: 0;
      }

      .step-list li {
        margin-bottom: 8px;
        padding-left: 10px;
        border-left: 2px solid #ccc;
      }

      /* Mise en √©vidence des mots cl√©s Gherkin */
      .given,
      .when,
      .then,
      .and {
        font-weight: bold;
        padding: 2px 4px;
        border-radius: 3px;
        margin-right: 5px;
        display: inline-block;
      }

      .given {
        color: #2980b9; /* Bleu fonc√© */
        background-color: #eef7ff;
      }
      .when {
        color: #f39c12; /* Jaune/Orange */
        background-color: #fef5e7;
      }
      .then {
        color: #c0392b; /* Rouge brique */
        background-color: #f9ebea;
      }
      /* 'Et' est souvent stylis√© comme les autres pour la coh√©rence Gherkin */
      .and {
        color: #2c3e50;
        background-color: #eaecee;
      }
      footer p {
        margin: 10px 0 0 0;
        font-size: 0.8em;
        color: #000000;
        text-align: center;
      }
      .download-link {
        text-align: center; /* Aligner √† droite sous le titre principal */
        margin-top: -5px; /* Monter l√©g√®rement sous le titre */
        margin-bottom: 20px;
      }

      .download-link a {
        display: inline-block;
        padding: 5px 10px;
        background-color: #ff8c00; /* Vert */
        color: white;
        text-decoration: none;
        border-radius: 5px;
        font-weight: bold;
        font-size: 0.9em;
      }

      /* ================================== */
      /* === STYLES DU LIEN ACCUEIL === */
      /* ================================== */

      .home-link {
        /* Positionnement */
        position: fixed; /* Reste visible m√™me en d√©filement */
        top: 20px;
        left: 20px;
        z-index: 1000; /* Assure qu'il est au-dessus des autres √©l√©ments */

        /* Style du texte */
        font-size: 0.95em;
        font-weight: 600;
        text-decoration: none;
        color: #495057; /* Couleur de texte neutre */

        /* Style du bouton/lien */
        padding: 8px 15px;
        border-radius: 20px; /* Bords arrondis pour l'effet soign√© */
        background-color: #f8f9fa; /* Fond tr√®s clair */
        border: 1px solid #dee2e6;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);

        /* Transitions pour le c√¥t√© soign√© */
        transition: all 0.2s ease-in-out;
      }

      .home-link:hover {
        background-color: #e9ecef; /* Changement subtil au survol */
        color: #007bff; /* Met l'accent sur la couleur primaire au survol */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15); /* Ombre plus marqu√©e */
        transform: translateY(-1px); /* Effet l√©ger de "lev√©e" */
      }

      /* Option pour les petits √©crans (discr√©tion) */
      @media screen and (max-width: 768px) {
        .home-link {
          font-size: 0.85em;
          padding: 5px 10px;
          top: 10px;
          left: 10px;
        }
      }
    </style>
  </head>
  <body>
    <a
      href="../main/menu.html"
      class="home-link"
      title="Retour √† la page d'accueil"
    >
      üè† Accueil
    </a>
    <h1>User Stories et Crit√®res d'Acceptation (Redmine)</h1>
    <p class="download-link">
      <a
        href="../../assets/downloads/Exemples_US.pdf"
        download="Exemples_US.pdf"
        title="T√©l√©charger le document en format PDF (pour impression)"
      >
        ‚¨áÔ∏è T√©l√©charger les exemples de US (PDF, 4 pages)
      </a>
    </p>
    <div class="layout" role="main">
      <main>
        <div
          class="container"
          style="padding: 0; box-shadow: none; background: transparent"
        >
          <div class="user-story-card">
            <h2 class="story-title">Cr√©er un nouveau projet</h2>
            <div class="story-content">
              <span class="en-tant-que">En tant que</span> administrateur de
              l‚Äôapplication Redmine<br />
              <span class="je-veux">Je veux</span> cr√©er un nouveau projet<br />
              <span class="afin-de">Afin de</span> g√©rer et suivre les t√¢ches et
              activit√©s associ√©es √† ce projet
            </div>

            <div class="acceptance-criteria">
              <div class="criteria-title">Crit√®res d'Acceptation</div>

              <div class="scenario">
                <div class="scenario-title">
                  Sc√©nario 1 : Cr√©ation d'un projet avec des informations
                  valides
                </div>
                <ul class="step-list">
                  <li>
                    <span class="given">√âtant donn√©</span> un administrateur
                    authentifi√© sur Redmine
                  </li>
                  <li>
                    <span class="when">Lorsque</span> il acc√®de √† la page
                    "Nouveau projet"
                  </li>
                  <li>
                    <span class="and">Et qu'</span>il saisit des donn√©es valides
                    pour le projet
                  </li>
                  <li><span class="and">Et qu'</span>il clique sur "Cr√©er"</li>
                  <li>
                    <span class="then">Alors</span> le projet est cr√©√© et ajout√©
                    √† la liste des projets
                  </li>
                  <li>
                    <span class="and">Et</span> un message de confirmation
                    s‚Äôaffiche
                  </li>
                </ul>
              </div>

              <div class="scenario">
                <div class="scenario-title">
                  Sc√©nario 2 : Cr√©ation d'un projet avec un identifiant d√©j√†
                  existant
                </div>
                <ul class="step-list">
                  <li>
                    <span class="given">√âtant donn√©</span> un administrateur
                    authentifi√© sur Redmine
                  </li>
                  <li>
                    <span class="and">Et qu'</span>un projet portant le m√™me
                    identifiant existe d√©j√†
                  </li>
                  <li>
                    <span class="when">Lorsque</span> il tente de cr√©er un
                    nouveau projet avec cet identifiant
                  </li>
                  <li>
                    <span class="then">Alors</span> le syst√®me affiche un
                    message d‚Äôerreur indiquant que l'identifiant existe d√©j√†
                  </li>
                  <li><span class="and">Et</span> le projet n‚Äôest pas cr√©√©</li>
                </ul>
              </div>

              <div class="scenario">
                <div class="scenario-title">
                  Sc√©nario 3 : Cr√©ation d'un projet sans nom
                </div>
                <ul class="step-list">
                  <li>
                    <span class="given">√âtant donn√©</span> un administrateur
                    authentifi√© sur Redmine
                  </li>
                  <li>
                    <span class="when">Lorsque</span> il tente de cr√©er un
                    projet sans saisir de nom
                  </li>
                  <li>
                    <span class="then">Alors</span> le syst√®me affiche un
                    message d‚Äôerreur indiquant que le nom du projet est
                    obligatoire
                  </li>
                  <li><span class="and">Et</span> le projet n‚Äôest pas cr√©√©</li>
                </ul>
              </div>

              <div class="scenario">
                <div class="scenario-title">
                  Sc√©nario 4 : Cr√©ation d'un projet avec des caract√®res
                  invalides dans l'identifiant
                </div>
                <ul class="step-list">
                  <li>
                    <span class="given">√âtant donn√©</span> un administrateur
                    authentifi√© sur Redmine
                  </li>
                  <li>
                    <span class="when">Lorsque</span> il saisit un identifiant
                    de projet contenant des caract√®res invalides
                  </li>
                  <li>
                    <span class="then">Alors</span> le syst√®me affiche un
                    message d‚Äôerreur indiquant que l'identifiant n‚Äôest pas
                    valide
                  </li>
                  <li><span class="and">Et</span> le projet n‚Äôest pas cr√©√©</li>
                </ul>
              </div>
            </div>
          </div>

          <hr
            style="
              border: 0;
              height: 1px;
              background-image: linear-gradient(
                to right,
                rgba(0, 0, 0, 0),
                #ccc,
                rgba(0, 0, 0, 0)
              );
              margin: 40px 0;
            "
          />

          <div class="user-story-card">
            <h2 class="story-title">Ajouter une nouvelle adresse email</h2>
            <div class="story-content">
              <span class="en-tant-que">En tant que</span> utilisateur de
              l‚Äôapplication Redmine<br />
              <span class="je-veux">Je veux</span> ajouter une nouvelle adresse
              email √† mon compte<br />
              <span class="afin-de">Afin de</span> recevoir des notifications
              sur plusieurs adresses.
            </div>

            <div class="acceptance-criteria">
              <div class="criteria-title">Crit√®res d'Acceptation</div>

              <div class="scenario">
                <div class="scenario-title">
                  Sc√©nario 1 : Ajouter une nouvelle adresse email valide
                </div>
                <ul class="step-list">
                  <li>
                    <span class="given">√âtant donn√©</span> qu‚Äôun utilisateur est
                    connect√© √† Redmine
                  </li>
                  <li>
                    <span class="and">Et qu‚Äô</span>il se trouve sur la page "Mon
                    compte"
                  </li>
                  <li>
                    <span class="when">Lorsque</span> il saisit une nouvelle
                    adresse email valide
                  </li>
                  <li><span class="and">Et qu‚Äô</span>il confirme l‚Äôajout</li>
                  <li>
                    <span class="then">Alors</span> l‚Äôadresse email est
                    enregistr√©e dans son profil
                  </li>
                  <li>
                    <span class="and">Et</span> un message de confirmation
                    s‚Äôaffiche
                  </li>
                </ul>
              </div>

              <div class="scenario">
                <div class="scenario-title">
                  Sc√©nario 2 : Ajouter une adresse email d√©j√† existante
                </div>
                <ul class="step-list">
                  <li>
                    <span class="given">√âtant donn√©</span> qu‚Äôun utilisateur
                    connect√© poss√®de d√©j√† une adresse email dans son compte
                  </li>
                  <li>
                    <span class="when">Lorsque</span> il tente d‚Äôajouter la m√™me
                    adresse email
                  </li>
                  <li>
                    <span class="then">Alors</span> le syst√®me affiche un
                    message d‚Äôerreur indiquant que l‚Äôadresse est d√©j√†
                    enregistr√©e
                  </li>
                </ul>
              </div>

              <div class="scenario">
                <div class="scenario-title">
                  Sc√©nario 3 : Ajouter une adresse email invalide
                </div>
                <ul class="step-list">
                  <li>
                    <span class="given">√âtant donn√©</span> qu‚Äôun utilisateur est
                    connect√© √† Redmine
                  </li>
                  <li>
                    <span class="when">Lorsque</span> il saisit une adresse
                    email invalide (ex : "test@")
                  </li>
                  <li><span class="and">Et qu‚Äô</span>il tente de l‚Äôajouter</li>
                  <li>
                    <span class="then">Alors</span> le syst√®me affiche un
                    message d‚Äôerreur indiquant que l‚Äôadresse n‚Äôest pas valide
                  </li>
                </ul>
              </div>

              <div class="scenario">
                <div class="scenario-title">
                  Sc√©nario 4 : Gestion des notifications multi-adresses
                </div>
                <ul class="step-list">
                  <li>
                    <span class="given">√âtant donn√©</span> qu‚Äôun utilisateur a
                    plusieurs adresses email enregistr√©es
                  </li>
                  <li>
                    <span class="when">Lorsque</span> une notification est
                    envoy√©e par Redmine
                  </li>
                  <li>
                    <span class="then">Alors</span> la notification est envoy√©e
                    √† toutes les adresses email actives du compte
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </main>
      <aside class="podcast-card" aria-label="Podcast User Stories">
        <h3>
          <i class="fas fa-podcast" aria-hidden="true"></i> Podcast Audio : User
          Stories
        </h3>
        <p>
          √âcoutez un mini-guide audio (‚âà 10 min) sur la r√©daction efficace des
          User Stories et de leurs crit√®res d'acceptation.
        </p>
        <div class="lang-block">
          <label for="audio-fr"
            ><i class="fas fa-headset" style="color: #216ba5"></i> üá´üá∑
            Fran√ßais</label
          >
          <audio id="audio-fr" controls>
            <source src="../../ressources/podcast_us_fr.mp3" type="audio/mp3" />
            Votre navigateur ne supporte pas le lecteur audio.
          </audio>
        </div>
        <div class="lang-block">
          <label for="audio-en"
            ><i class="fas fa-headset" style="color: #216ba5"></i> üá¨üáß
            English</label
          >
          <audio id="audio-en" controls>
            <source src="../../ressources/podcast_us_en.mp3" type="audio/mp3" />
            Your browser does not support the audio element.
          </audio>
        </div>
        <div
          style="
            background: #fff;
            border: 1px solid #f1e4b5;
            padding: 8px 10px;
            border-radius: 8px;
            font-size: 0.75em;
            color: #6c5438;
          "
        >
          Astuce : privil√©giez une formulation
          <code>En tant que / Je veux / Afin de</code> concise et des crit√®res
          mesurables (√©viter le flou fonctionnel).
        </div>
      </aside>
    </div>
    <footer>
      <p>
        &copy; Talel Zid | Version 1.0 ‚Äî Octobre 2025 | Bas√© sur Connextra et
        Gherkin.
        <br />Pour usage personnel ou √©ducatif seulement.
      </p>
    </footer>
  </body>
</html>
